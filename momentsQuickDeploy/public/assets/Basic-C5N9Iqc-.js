import{h as p,u as f,g,i as m,n as _,c,a as t,E as n,G as l,m as i,S as b,o as y,_ as x}from"./index-DC8TisQv.js";import{u as v}from"./setting-q9aR3TP_.js";const k={class:"basic-container"},U={class:"item"},V={class:"item"},w={class:"item"},S={class:"item"},B={class:"item"},C={class:"item"},D={class:"item"},M={class:"item"},O={class:"item"},E={class:"item"},G=p({__name:"Basic",setup(L){const r=f(),a=g(),s=v();m(async()=>{const d=a.show("正在加载信息中","loading");await s.getAllConfig()?a.update(d,{type:"success",text:"加载成功",duration:2e3}):(a.update(d,{type:"error",text:"加载信息失败",duration:2e3}),r.handleLogout(),_.replace({name:"index"}))});const u=async()=>{if(s.hasChanged()){const d=s.getUpdateData(),e=a.show("正在更新中...","loading");try{await b(d),a.update(e,{type:"success",text:"更新成功",duration:2e3}),Object.assign(s.originalData,s.configs)}catch(o){a.update(e,{type:"error",text:"更新失败",duration:2e3}),console.error("更新失败:",o)}}else a.show("数据未改动","info",2e3)};return(d,e)=>(y(),c("div",k,[t("div",U,[e[10]||(e[10]=t("label",{for:"sitename"},"网站名称：",-1)),n(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>i(s).configs.sitename=o),id:"sitename",type:"text",placeholder:"在此输入网站名称"},null,512),[[l,i(s).configs.sitename]])]),t("div",V,[e[11]||(e[11]=t("label",{for:"site_url"},"网站网址：",-1)),n(t("input",{"onUpdate:modelValue":e[1]||(e[1]=o=>i(s).configs.site_url=o),id:"site_url",type:"text",placeholder:"网站网址"},null,512),[[l,i(s).configs.site_url]])]),t("div",w,[e[12]||(e[12]=t("label",{for:"site_logo"},"站点图标：",-1)),n(t("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>i(s).configs.site_logo=o),id:"site_logo",type:"text",placeholder:"站点LOGO"},null,512),[[l,i(s).configs.site_logo]])]),t("div",S,[e[13]||(e[13]=t("label",{for:"site_keywords"},"关键字：",-1)),n(t("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>i(s).configs.site_keywords=o),id:"site_keywords",type:"text",placeholder:"关键字"},null,512),[[l,i(s).configs.site_keywords]])]),t("div",B,[e[14]||(e[14]=t("label",{for:"site_description"},"站点描述：",-1)),n(t("input",{"onUpdate:modelValue":e[4]||(e[4]=o=>i(s).configs.site_description=o),id:"site_description",type:"text",placeholder:"站点描述"},null,512),[[l,i(s).configs.site_description]])]),t("div",C,[e[15]||(e[15]=t("label",{for:"site_email"},"联系邮箱：",-1)),n(t("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>i(s).configs.site_email=o),id:"site_email",type:"text",placeholder:"管理员邮箱"},null,512),[[l,i(s).configs.site_email]])]),t("div",D,[e[16]||(e[16]=t("label",{for:"site_background"},"网站背景：",-1)),n(t("input",{"onUpdate:modelValue":e[6]||(e[6]=o=>i(s).configs.site_background=o),id:"site_background",type:"text",placeholder:"网站背景"},null,512),[[l,i(s).configs.site_background]])]),t("div",M,[e[17]||(e[17]=t("label",{for:"site_avatar"},"首页头像：",-1)),n(t("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>i(s).configs.site_avatar=o),id:"site_avatar",type:"text",placeholder:"首页头像"},null,512),[[l,i(s).configs.site_avatar]])]),t("div",O,[e[18]||(e[18]=t("label",{for:"site_header_background"},"首页背景：",-1)),n(t("input",{"onUpdate:modelValue":e[8]||(e[8]=o=>i(s).configs.site_header_background=o),id:"site_header_background",type:"text",placeholder:"首页背景"},null,512),[[l,i(s).configs.site_header_background]])]),t("div",E,[e[19]||(e[19]=t("label",{for:"site_brief"},"首页简介：",-1)),n(t("input",{"onUpdate:modelValue":e[9]||(e[9]=o=>i(s).configs.site_brief=o),id:"site_brief",type:"text",placeholder:"首页简介"},null,512),[[l,i(s).configs.site_brief]])]),t("button",{onClick:u},"更 新")]))}}),I=x(G,[["__scopeId","data-v-75af0c41"]]);export{I as default};
